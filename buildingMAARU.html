<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multichannel Ecoacoustic Recording</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h2><a href="index.html">MAARU</a></h2>
        <nav>
            <ul>
                <li><a href="spatialacoustics.html">Spatial Acoustics</a></li>
                <li><a href="buildingMAARU.html">Building MAARU</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    
    <main>     
            <h2>Building MAARU</h2>
            
            <p>MAARU recorders can be built cheaply and easily using just a power drill and a screwdriver. You’ll need to make sure you have all the kit first,
                so please see our non-exhaustive <a herf="kitList.html"> Kit List.</a> </p>

            <img src="images/Rpi-Array.png" alt = "Illustration of a Raspberry Pi, with a HAT, connectec to a 
            multichannel microphone array", 
            class = "tech-illustrations">


            <h3>The Basics:</h3>

            <p>the ReSpeaker 6-microphone array to the ReSpeaker HAT via the ribbon cable as above. Then, 
                attach the HAT and the array to the Pi via the 40-pin header on your raspberry Pi. </p> 

                
            <h3>Setting up the operating system </h3>

            <b>TIP:</b> Power the Rpi from mains when you do this it’ll be a lot easier! <br>

            <ul class="bullet-list">
                <li>Set up the ReSpeaker 6-Mic hat. Full instructions on the ReSpeaker website. You’ll want to connect the circular array to the ReSpeaker HAT by the ribbon cable as below:</li>
                <li>Then attach the HAT to the Pi by the 40-pin header (don’t worry about affixing it all together with the white plastic screws. – you won’t need them).</li>
                <li>Insert the SIM card into the HUAWEI dongle</li>
                <li>Connect the dongle to the Raspberry Pi via the USB extension cable</li>
            </ul>
                                
            <h3>Setting up the OS:</h3>

            <p>You’ll need Wi-Fi or network connection to get everything set up. If you’re looking to autonomise your device by connecting it to mobile
                 networks, you can set that up now: </p>

                 <ul class="bullet-list">
                    <li>Pay for a network subscription and activate your SIM card. SIM card activation usually involves making 
                        a phone call from your phone with the SIM inserted but can vary network-to-network. Make sure you can connect 
                        to the internet via the SIM on your phone first</li>
                    <li>Put the SIM into the USB dongle. </li>
                    <li>Plug the USB dongle into the raspberry pi.  </a></li>
                </ul>     
                
            <p>There are two options for setting up the operating system. 1) you can download our prebuilt OS here [link] 
                on to a micro-SD card or 2) <a href="https://github.com/BeckyHeath/multi-mic-recorder-analysis">follow instructions to set it up yourself here.</a> </p>
            
            <p>Once you've set up the operating system to a micro-SD, insert the micro-SD into your Raspberry Pi. You'll want to check that everything
                is working okay, so plug the Raspberry Pi into a screen and turn it on. It should pop up with information about 
                the recording, compression, and transmission status of the audio. If it's all working fine you can power down safely, and you're
                ready to go. You can look at our suggested methods for weatherproofing (here) or you can look at autonomising the device with autonomous power and below.  </p>

            <p><b>TIP:</b>Be careful not to suddenly unplug the raspberry Pi at any point. It’ll mess with the system. Instead, if you want to turn off the Pi: </p>
            <ul class = "bullet-list">
                <li>Press the button in the center of the array and wait for it to power down. </li>
                <li>Type “sudo halt” into the command line. </li>
                <li>Switch off the power source (wall plug or solar charge controller). </li>
            </ul>
                
            <img src="images/powering.png" alt = "Illustration of a solar panel, a battery and a solar charge 
            controller.", 
            class = "tech-illustrations">


            <h3>Powering:</h3>#
            
            <ul class="bullet-list">
                <li>Connect the AWG10 cable to the solar panel. You can do this either by stripping and soldering this to the existing wire or by attaching the new cables directly to the panel (Keep note of the negative and positive terminals).</li>
                <li>Connect the Solar panel to the Solar charge controller by the AWG10 wire. Ensure you connect positive to positive and negative to negative!</li>
                <li>Connect the Battery to the solar charge controller. You can use the AWG10 for this or I’ve often just used the wires that came with the panel/ solar charge controller set. Again, ensure you connect positive to positive and negative to negative!</li>
                <li>Go through the settings on the Solar Charge Controller and make sure it all matches up to you battery. Especially: running voltage and battery type. (This will maintain battery quality for longer!)</li>
                <li>Attach the 12V to 5V step-down to the power out terminus on the Solar Charge Controller. Ensure the terminals match up and that the 12V side is attached to the solar charge controller.</li>
                <li>Depending on the type of step-down converter you have you may need a USBC adaptor.</li>
                <li>Plug the power source into the Pi</li>
            </ul>
      
                <b>TIP:</b> You can control whether the power is running to the Pi or not by the button on the solar charge controller
            
            <h3>Setting up the Waterproofing: </h3>

                Tip: Power down and unplug the device from the power source while you’re setting up the waterproofing 
                
                <h4>Rpi + Microphone Waterproofing.</h4>
                <ul class="bullet-list">
                    <li>Prepare the Tupperware: The Rpi and microphone array will be housed inside a Sistema Tupperware. In order to prepare the Tupperware you’ll need to drill a 1x3cm hole in the bottom of the box and 6+2 holes in the lid. The hole at the bottom of the main box will allow for power/data wires to exit the Tupperware. The 6 circular holes on top will line up with the MEMS microphones on the array while the 2 other holes will line up with two other protrusions on the surface of the array.
                        Once all the holes have been made, sand down the edges and surrounding area to reduce risk of damage and increase surface area for adhesives to attach.</li>
                    <li>attach the IPRO vents to the mic holes.</a></li>
                    <li>lay electric tape over the other two holes and cover with sealant. </a></li>
                    <li>Put the raspberry Pi inside with the cables to the power source and the Huawei dongle coming out the bottom. Seal up the bottom with electric tape and clear sealant.</li>
                    <li>Put cut-to-size polystarine in the tuppwerware so that the array is pushed flush with the lid of the Tupperware when closed.</li>
                    <li>Put some silica in the Tupperware</li> 
                    <li>Snap shut and cover the edges with Sniper tape.</li> 
                </ul>
                 
                <h4> Power Source Waterproofing.</h4>
                <ul class="bullet-list">
                    <li>Insulate the exposed battery terminals with electric tape</li>
                    <li>In a Dri-Bag put the battery, solar charge controller and a couple of bags of silica</li>
                    <li>The only wires coming out of the dri-bag should be the AWG10 to the solar panel and the power cable to the Raspberry Pi</li>
                </ul>
                
            <h3>Preparation + Attachment in Situ:</h3>

            <h4>Solar Panel:</h4>
                <ul class="bullet-list">
                    <li>Attach 4x hooks in the corners of the solar panel as above</li>
                    <li>Attach lifting slings to the solar panels via carabiners</li>
                    <li>Make a small hole in the canopy of the target tree, use the slings to attach the panel in place </li>
                </ul>

            <h4>Rpi, Microphone and Power source: </h4>
                <ul class="bullet-list">
                    <li>Strap a kwik-lock to the back of the Tupperware using sniper tape</li>
                    <li>Strap the kwik-lock to the tree at desired height</li>
                    <li>The dongle and the dri-bag containing the power source can be attached at this height using the same or an additional kwik-lok.</li>
                </ul>
                </p>


            </main>
    
            <footer>
                <p>Copyright © 2023 Becky Heath</p>
            </footer>
            
            <script src="script.js"></script>
        </body>
        </html>
        